from aiogram import types
from aiogram.dispatcher.filters.builtin import CommandStart
from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton

from loader import dp, db


@dp.message_handler(CommandStart())
async def bot_start(message: types.Message):
    menuMarkup = InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton("‚úçÔ∏è–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø—á–∞—Å—Ç–∏ –≤ –ø—Ä–æ–¥–∞–∂—É", callback_data="add_part")],
            [InlineKeyboardButton("üîç–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—á–∞—Å—Ç–∏", callback_data="show_parts")],
            [InlineKeyboardButton("üóí–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏", callback_data="privacy_policy")]
        ]
    )

    text = """‚úîÔ∏è –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –í–∞—Å –≤ –ø–µ—Ä–≤–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º –∑–∞–ø—á–∞—Å—Ç–µ–π –¥–ª—è —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∏, –≥—Ä—É–∑–æ–≤–∏–∫–æ–≤ –∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ø–µ—Ü–º–∞—à–∏–Ω: <b>–ü—Ä–æ–¥–∞–º–ó–∞–ø—á–∞—Å—Ç–∏.–†–§</b>

‚úîÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–º —É—Ä–æ–≤–Ω–µ,
–∏ –í–∞–º –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞–∫–∏—Ö-–ª–∏–±–æ –æ—Å–æ–±–µ–Ω–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π —á—Ç–æ –±—ã –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!

‚úîÔ∏è –¢–∞–∫ –∂–µ –ø—Ä–æ—Å–∏–º –æ—Ç–Ω–µ—Å—Ç–∏—Å—å —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º, —Ç–∞–∫-–∫–∞–∫ —Å–µ–π—á–∞—Å –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ. 
–ê –µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –±—É–¥—É—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è!

‚úîÔ∏è –ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–∞–Ω–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ –∏ —É—Å–ª–æ–≤–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ –í—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å –Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É –≤ –≥–ª–∞–≤–Ω–æ–º –ú–ï–ù–Æ: <b>–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</b>

<i>–ü—Ä–æ–¥–æ–ª–∂–∞—è —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º –±–æ—Ç–æ–º —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –í—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ –≤—Å–µ —ç—Ç–∏ —É—Å–ª–æ–≤–∏—è!</i>

‚úîÔ∏è –ñ–µ–ª–∞–µ–º —É—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫! –ò –∫–∞–∫ –≥–æ–≤–æ—Ä–∏–ª –Æ.–ê.–ì–∞–≥–∞—Ä–∏–Ω "–ø–æ–µ—Ö–∞–ª–∏" üôÇ

‚úîÔ∏è –ù–∏–∂–µ –≤ –≥–ª–∞–≤–Ω–æ–º –ú–ï–ù–Æ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –í–∞—Å —Ä–∞–∑–¥–µ–ª"""

    await db.add_new_user(message.chat.id, message.chat.username)

    await message.answer(text, parse_mode="HTML")

    await message.answer("<b>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:</b>üëá", reply_markup=menuMarkup, parse_mode="HTML")
